!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var s in n)("object"==typeof exports?exports:e)[s]=n[s]}}(self,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{JsonSchemaExplorer:()=>W,JsonSchemaExplorerOptions:()=>B});const n=(e,t)=>function(e,t){return s(e)||(e={constructor:null}),t.includes(e.constructor)}(e,[t]),s=e=>null!=e;class o{static tag=(e,t,n)=>{const s=document.createElement(e);return t&&(s.innerHTML=t),n&&n.split(" ").forEach((e=>s.classList.add(e))),{node:s,append:(...e)=>(e.forEach((e=>{e.node?s.appendChild(e.node):s.appendChild(e)})),s)}};static span=(e,t)=>o.tag("span",e,t).node;static kvp=(e,t,n)=>(s(t)?t.constructor===Boolean?t=`${t}`:t.constructor===String&&(t=`"${t}"`):t="null",'"null"'===t&&(n="null"),o.tag("div",null,"property").append(o.span(e,"key"+("const"===e?" const":"")),o.span(": ","separator"),o.span(t,n)));static details=(e,t)=>{const n=document.createElement("details"),s=document.createElement("summary");return s.innerHTML=`<div>${e}</div>`,void 0!==t&&(s.querySelector(".property-datatype").innerHTML+=`[${t}]`),n.appendChild(s),n};static kvpdetails=(e,t,n)=>o.details(`<span class="key">${e}</span> <span class="property-datatype">${t}</span> `,n);static testButton=(e,t)=>{const n=o.tag("button","test","test").node;try{n.setAttribute("data-value",JSON.stringify(Object.assign({property:e},t)))}catch(t){n.setAttribute("data-value",JSON.stringify({property:e}))}return n};static a=(e,t)=>{const n=o.tag("a",t).node;return n.href=e,n.target="_blank",n};static ul=e=>o.tag("ul").append(...e.map((e=>o.tag("li",e))))}const r="\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[01])",a="\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?",i=Object.seal({DATE:`^${r}$`,TIME:`^${a}$`,ISO_861:`^${r}[tT]${a}([zZ]|[\\+\\-]\\d{2}:\\d{2})$`}),l="\\d+M(\\d+S)?",p="\\d+M(\\d+D)?",c=`T(\\d+H(${l})?|${l}|\\d+S)`,d=`(\\d+D|${p}|\\d+Y(${p})?)(${c})?`,h=Object.seal({DURATION:`^P(${d}|${c}|\\d+W)$`}),m=Object.seal({JSON_POINTER:"^(\\/([\\x00-\\x2E]|[\\x30-\\x7D|\\x7F-ჿFF]|~[01])*)*$"}),u="[a-zA-Z0-9\\-\\.\\_\\~]",f="\\%[0-9a-fA-F]{2}",x="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",y=`(${u}|${f}|${x}|[:\\@])`,$="[a-fA-F\\d]{1,4}",g="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",v=`(?:(?:${$}:){7}(?:${$}|:)|(?:${$}:){6}(?:${g}|:${$}|:)(?:${$}:){5}(?::${g}|(?::${$}){1,2}|:)|(?:${$}:){4}(?:(?::${$}){0,1}:${g}|(?::${$}){1,3}|:)|(?:${$}:){3}(?:(?::${$}){0,2}:${g}|(?::${$}){1,4}|:)|(?:${$}:){2}(?:(?::${$}){0,3}:${g}|(?::${$}){1,5}|:)|(?:${$}:){1}(?:(?::${$}){0,4}:${g}|(?::${$}){1,6}|:)|(?::(?:(?::${$}){0,5}:${g}|(?::${$}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?`,b=`[vV][0-9a-fA-F]+\\.(${u}|${x}|\\:)+`,j=`\\[(${v}|${b})\\]`,E=`${y}*`,L=`${y}+`,k=`(\\/${E})*`,w=`\\/(${L}(\\/${E})*)?`,O=`(${u}|${f}|${x}|\\@)(\\/${E})*`,T=`${L}(\\/${E})*`,A=`(${k}|${w}|${O}|${T}|.{0})`,S="[A-Za-z][A-Za-z0-9\\+\\-\\.]*",C=`(${j}|${g}|(${u}|${f}|${x})*)`,I=`((${u}|${f}|${x}|\\:)*\\@)?${C}(\\:\\d*)?`,R=`\\?(${y}|\\/|\\?)*`,M=`\\#(${y}|\\/|\\?)*`,P=`${S}\\:(\\/\\/${I}${k}|${w}|${T}|.{0})(${R})?(${M})?`,_=`\\/\\/${I}${k}|${w}|${O}|.{0}(${R})?(${M})?`,F=`${P}|${_}`,H=Object.seal({IPV4:`^${g}$`,IPV6:`^${v}$`,IPvFUTURE:`^${b}$`,IPLITERAL:`^${j}$`,URI:Object.seal({URI:`^${P}$`,REF:`^${F}$`,SCHEME:`^${S}$`,PORT:"^\\d*$",HOST:`^${C}$`,PATH:`^${A}$`,RELATIVE_REF:`^${_}$`})}),N="^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",U={date:{pattern:i.DATE,link:"https://datatracker.ietf.org/doc/html/rfc3339#section-5.6"},time:{pattern:i.TIME,link:"https://datatracker.ietf.org/doc/html/rfc3339#section-5.6"},"date-time":{pattern:i.ISO_861,link:"https://datatracker.ietf.org/doc/html/rfc3339#section-5.6"},duration:{pattern:h.DURATION,link:"https://datatracker.ietf.org/doc/html/rfc3339#appendix-A"},hostname:{pattern:H.URI.HOST,link:"https://datatracker.ietf.org/doc/html/rfc3986#section-1"},ipv4:{pattern:H.IPV4,link:"https://datatracker.ietf.org/doc/html/rfc3986#section-1"},ipv6:{pattern:H.IPV6,link:"https://datatracker.ietf.org/doc/html/rfc3986#section-1"},uuid:{pattern:N,link:"https://datatracker.ietf.org/doc/html/rfc4122#section-3"},uri:{pattern:H.URI.URI,link:"https://datatracker.ietf.org/doc/html/rfc3986#section-1"},"uri-reference":{pattern:H.URI.REF,link:"https://datatracker.ietf.org/doc/html/rfc3986#section-1"},"json-pointer":{pattern:m.JSON_POINTER,link:"https://datatracker.ietf.org/doc/html/rfc6901"}},z=e=>U[e.toLowerCase().trim()];Object.seal({...i,...h,UUID:N,...m,IPV4:H.IPV4,IPV6:H.IPV6,IPvFUTURE:H.IPvFUTURE,IPLITERAL:H.IPLITERAL,...H.URI});class D{static keyAlphaAsc(){const[e,t]=arguments;return e[0].toLowerCase()>t[0].toLowerCase()?1:e[0].toLowerCase()<t[0].toLowerCase()?-1:0}}class V extends HTMLElement{constructor(e){super();try{e=JSON.parse(e)}catch(e){throw new Error(e)}const t={maxLength:e.maxLength,minLength:e.minLength,pattern:e.pattern,format:e.format},n=o.tag("div",`<span class="close">&times;</span><p>${e.property}</p>`,"modal-content").append(o.tag("pre").append(o.tag("code")),o.tag("div",null,"help"));this.appendChild(n),e.deprecated&&n.appendChild(o.tag("div","deprecated","deprecated").node),n.querySelector("div.help").appendChild(o.a("https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions/Cheatsheet","Regex Help"));let s=!0,r=!1;const a=document.createElement("form"),i=o.tag("span",null,"result").node,l=document.createElement("input");if(l.type="text",l.required=!0,e.examples&&e.examples.length>0){const t=o.details("Examples");t.open=e.examples.length<10,t.innerHTML+=o.ul(e.examples).outerHTML,t.style.maxHeight="300px",t.style.overflow="auto",n.querySelector("pre").insertAdjacentElement("afterend",t)}if(t.minLength&&(l.minLength=t.minLength),t.maxLength&&(l.maxLength=t.maxLength),t.format&&!t.pattern){const e=z(t.format);e&&(t.pattern=e.pattern,n.querySelector("div.help").appendChild(o.a(e.link,`${t.format} definition`)))}if(t.pattern)try{l.pattern=new RegExp(t.pattern).source}catch(e){s=!1}else t.format&&"regex"===t.format.toLowerCase().trim()&&(r=!0);n.querySelector("pre code").innerHTML=Object.entries(t).sort(D.keyAlphaAsc).filter((e=>e[1])).map((([e,t])=>`${e}: ${t}`)).join(",\n"),a.append(l,i),s&&n.appendChild(a),a.addEventListener("submit",(e=>(e.preventDefault(),!1))),l.addEventListener("keydown",(()=>{l.classList.remove("invalid"),l.classList.remove("valid"),l.setCustomValidity("")})),l.addEventListener("keyup",(e=>{if(r)try{new RegExp(l.value),l.classList.add("valid")}catch(e){l.classList.add("invalid"),l.setCustomValidity(e),l.reportValidity()}else e.target.reportValidity()?l.classList.add("valid"):l.classList.add("invalid")}));const p=({key:e})=>{"Escape"===e&&(window.removeEventListener("keyup",p),this.remove())};this.addEventListener("click",(({target:e})=>{e.isSameNode(this)&&(window.removeEventListener("keyup",p),this.remove())})),n.querySelector("span.close").addEventListener("click",(()=>{window.removeEventListener("keyup",p),this.remove()})),window.addEventListener("keyup",p)}focusInput(){const e=this.querySelector("input");e&&e.focus()}}customElements.define("json-schema-explorer-modal",V);const q=Object.seal({MODAL:'json-schema-explorer-modal {\n    display: flex;\n    top: 0; left: 0;\n    position: fixed;\n    z-index: 1;\n    width: 100%; height: 100%;\n    overflow: hidden;\n    background-color: rgba(0, 0, 0, 0.4);\n    font-family: Consolas, monospace;\n}\njson-schema-explorer-modal .modal-content {\n    background-color: #fefefe;\n    margin: auto;\n    padding: 20px;\n    border: 1px solid #888;\n    width: 80%;\n    max-width: 600px;\n    overflow-y: auto;\n    position: relative;\n}\njson-schema-explorer-modal .close {\n    color: #aaa;\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n    cursor: pointer;\n}\njson-schema-explorer-modal .close:hover,\njson-schema-explorer-modal .close:focus {\n    color: #000;\n}\n\njson-schema-explorer-modal p {\n    text-overflow: ellipsis;\n    overflow: hidden;\n}\njson-schema-explorer-modal div.deprecated {\n    position: absolute;\n    top: 22px;\n    padding: 0 3px;\n    font-size: 10px;\n    color: tomato;\n    border: 1px solid tomato;\n    border-radius: 5px;\n}\njson-schema-explorer-modal pre {\n    overflow: auto;\n}\njson-schema-explorer-modal div.help {\n    font-size: 11px;\n    display: flex;\n    width: 100%;\n}\njson-schema-explorer-modal div.help a:not(:first-child) {\n    padding: 0 10px;\n}\njson-schema-explorer-modal details {\n    font-size: 13px;\n    margin: 8px 0;\n}\njson-schema-explorer-modal details summary {\n    cursor: pointer;\n}\njson-schema-explorer-modal details summary > div {\n    display: inline;\n    user-select: none;\n}\njson-schema-explorer-modal details > ul {\n    padding-left: 25px;\n    margin: 0;\n}\njson-schema-explorer-modal form {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n}\njson-schema-explorer-modal form input {\n    width: 100%;\n}\njson-schema-explorer-modal form input.valid,\njson-schema-explorer-modal form input.invalid {\n    border: 2px solid lightseagreen;\n    border-radius: 3px;\n    color: lightseagreen;\n    outline: none;\n    box-shadow: 0 0 2px 3px #20b2aa40;\n}\njson-schema-explorer-modal form input.invalid {\n    border-color: tomato;\n    color: tomato;\n    box-shadow: 0 0 2px 3px #ff634740;\n}\njson-schema-explorer-modal form input + .result {\n    position: absolute;\n    right: 5px;\n    user-select: none;\n}\njson-schema-explorer-modal form input.valid + .result::before {\n    content: "✔";\n    color: lightseagreen;\n}\njson-schema-explorer-modal form input.invalid + .result::before {\n    content: "✖";\n    color: tomato;\n}',EXPLORER:"json-schema-explorer {\n    font-family: Consolas, monospace;\n    font-size: 14px;\n}\njson-schema-explorer ul {\n    list-style: none;\n}\njson-schema-explorer > ul {\n    margin: 0; padding: 0;\n}\njson-schema-explorer > ul ul {\n    padding-left: 20px;\n}\njson-schema-explorer summary {\n    cursor: pointer;\n}\njson-schema-explorer summary > div {\n    display: inline;\n}\njson-schema-explorer summary:hover {\n    background-color: #f0fbff;\n}\njson-schema-explorer summary button.test {\n    font-size: 11px;\n    background-color: transparent;\n    border: 1px solid #A2B7F6;\n    border-radius: 3px;\n    color: #A2B7F6;\n    padding: 0 4px;\n    cursor: pointer;\n}\njson-schema-explorer summary button.test:hover {\n    color: #7C98F3;\n    border-color: #7C98F3;\n}\njson-schema-explorer .property-datatype {\n    color: #bbb;\n    font-size: 13px;\n}\njson-schema-explorer .deprecated {\n    text-decoration: line-through;\n    text-decoration-color: lightgrey;\n    opacity: .6;\n}\njson-schema-explorer .key {\n    color: #a563b7;\n}\njson-schema-explorer .key.const,\njson-schema-explorer .key.const + span {\n    color: orange;\n}\njson-schema-explorer .\\#text,\njson-schema-explorer .separator {\n    color: rgba(0, 0, 0, 0.6);\n}\njson-schema-explorer .string {\n    color: #31B72C;\n}\njson-schema-explorer .boolean {\n    color: #56B5F0;\n}\njson-schema-explorer .number,\njson-schema-explorer .integer {\n    color: #D38B5D;\n}\njson-schema-explorer .null {\n    color: #BC2C1A;\n}"});class B{constructor(){this._defaultExpand={root:!0,examples:!1}}get minifySimpleTypes(){return this._minifySimpleTypes||!0}set minifySimpleTypes(e){this._minifySimpleTypes=e}get sortKeys(){return this._sortKeys||!0}set sortKeys(e){this._sortKeys=e}get expand(){const e=this._expand||this._defaultExpand;return e.examples&&([!0,!1].includes(e.examples)||(e.examples.constructor===String&&e.examples.startsWith("<")&&Number.isSafeInteger(+e.examples.substring(1))?e.examples=Math.max(+e.examples.substring(1),5):e.examples=this._defaultExpand.examples)),e}set expand(e){this._expand=Object.assign(this._defaultExpand,e)}}class J{constructor(e,t,o){this.datatype=s(t)?t.constructor:null,void 0===t&&(this.datatype=void 0),this.type=s(this.datatype)?t.constructor.name:`${this.datatype}`,this.key=e,this.value=t,this.children=[],this.options=o,n(t,Object)&&1===Object.keys(t).length&&(s(t.enum)?this.type="Enum":s(t.const)&&(this.type="Const"))}static create(e,t,n){return s(t)?t.constructor===Object?new K(e,t,n):t.constructor===Array?new Z(e,t,n):new J(e,t,n):new J(e,t,n)}get isDeprecated(){return"deprecated"===this.key.toLowerCase().trim()&&!0===this.value}get htmlNode(){return o.kvp(this.key,this.value,this.type.toLowerCase())}}class K extends J{constructor(e,t,n){if(super(e,t,n),s(t)&&s(t.type)&&(this.type=t.type.charAt(0).toUpperCase()+t.type.substring(1)),t.constructor===Array)this.children.push(new Z(e,t,n));else{const e=!0===this.options.sortKeys?Object.entries(t).sort(D.keyAlphaAsc):Object.entries(t);for(const[t,s]of e)this.children.push(J.create(t,s,n))}"String"===this.type&&this.datatype===Object&&(this.value.pattern||this.value.format)&&(void 0===this.value.format?this.isTestable=!0:this.isTestable=void 0!==z(this.value.format))}get isDeprecated(){return this.datatype===Object&&!0===this.value.deprecated}get size(){return"Object"===this.type&&void 0!==this.value.properties?Object.keys(this.value.properties).length:"Enum"===this.type?this.value.enum.length:Object.keys(this.value).length}get htmlNode(){const e=["Object","Enum"].includes(this.type)?this.size:void 0;let t;if(!0===this.options.minifySimpleTypes&&1===this.children.length&&void 0!==this.value.type)t=o.kvp(this.key,this.value.type,this.type.toLowerCase());else if("Const"===this.type)t=o.kvp("const",this.value.const,typeof this.value.const);else{t=o.kvpdetails(this.key,this.type,e),this.isTestable&&t.querySelector("summary > div").appendChild(o.testButton(t.querySelector("summary .key").innerHTML,this.value));const n=document.createElement("ul");"Enum"===this.type?n.innerHTML=this.children[0].htmlNode.querySelector("ul").innerHTML:this.children.forEach((e=>n.appendChild(o.tag("li").append(e.htmlNode)))),t.appendChild(n)}return this.isDeprecated&&t.classList.add("deprecated"),t}}class Z extends J{constructor(e,t,n){super(e,t,n),t.forEach((e=>{if(e.constructor===Object){const t=Object.assign({},n);t.minifySimpleTypes=!1,this.children.push(new K("",e,t))}else e.constructor===Array?this.children.push(new Z("",e,n)):this.children.push(e)}))}get size(){return this.children.length}get htmlNode(){const e=this.children.some((e=>e instanceof K))?void 0:this.size,t=o.kvpdetails(this.key,this.type,e);"examples"===this.key&&n(this.value,Array)&&(n(this.options.expand.examples,Boolean)&&!0===this.options.expand.examples||n(this.options.expand.examples,Number)&&this.size<this.options.expand.examples)&&(t.open=!0);const s=document.createElement("ul");return this.children.forEach((e=>{const t=document.createElement("li");e instanceof J?t.appendChild(e.htmlNode):t.innerHTML+=`<span class="#text">${e}</span>`,s.appendChild(t)})),t.appendChild(s),t}}class W extends HTMLElement{constructor(e,t=new B){super(),this._schema=e,this._options=t||new B}get options(){return this._options||new B}get schema(){return this._schema}set schema(e){if(!n(e,Object))throw new Error(`Illegal argument type '${e.constructor.name}' for root schema structure. Expecting Object`);this._schema=e;const t=document.createElement("ul"),s=!0===this.options.sortKeys?Object.entries(e).sort(D.keyAlphaAsc):Object.entries(e);for(const[e,n]of s){const s=document.createElement("li"),o=J.create(e,n,this.options);o.isDeprecated&&t.classList.add("deprecated"),s.appendChild(o.htmlNode),t.appendChild(s)}!0===this.options.expand.root&&[...t.children].forEach((e=>{e.firstChild&&"DETAILS"===e.firstChild.tagName&&(e.firstChild.open=!0)})),this.innerHTML=t.outerHTML}}customElements.define("json-schema-explorer",W),window.addEventListener("click",(e=>{if(e.target.closest("json-schema-explorer")&&"BUTTON"===e.target.tagName&&e.target.classList.contains("test")){e.preventDefault();const t=new V(e.target.getAttribute("data-value"));document.body.appendChild(t),t.focusInput()}}));const X=document.createElement("style");return X.innerHTML=`${q.MODAL} ${q.EXPLORER}`,document.querySelector("head").prepend(X),t})()}));